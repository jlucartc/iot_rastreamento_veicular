!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["js-notifications"]=e():t["js-notifications"]=e()}(window,(function(){return function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e,s){},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TOAST:"toast",HEADER:"toast__header",BODY:"toast__body",CLOSE_BUTTON:"toast__close"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CLICK:"click",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",SWIPE_LEFT:"swipeLeft",SWIPE_RIGHT:"swipeRight"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s(0);const n=s(1),i=s(4),o=s(6),l=s(2),r=s(7),a=s(8),u=s(9);e.default=class{constructor(t){this._config={container:(null==t?void 0:t.container)||document.body,seconds:(null==t?void 0:t.seconds)||3,spacing:(null==t?void 0:t.spacing)||20,offset:(null==t?void 0:t.offset)||0,swipe:!1!==(null==t?void 0:t.swipe)},this.activeToasts=new o.default,this._closeHandler=this.closeHandler.bind(this)}notify(t){const e=this.config.swipe?[u.default.SWIPE]:[],s=new i.default(t,e,this.template);this.add(s),window.getComputedStyle(s.element).top,this.repositionAll(),setTimeout(()=>{s.hide()},1e3*this._config.seconds-r.default.TRANSITION_IN_MILLISECONDS),setTimeout(()=>{this.destroy(s)},1e3*this._config.seconds)}add(t){this._config.container.appendChild(t.element),this.activeToasts.add(t),this.addEventListeners(t)}destroy(t){t.destroy(),this.activeToasts.delete(t),this.removeEventListeners(t)}repositionAll(){Array.from(this.activeToasts.all()).reverse().forEach((t,e)=>{const s=(e+1)*this.config.spacing;let n=0;for(let s=0;s<e;s++)n+=t.element.offsetHeight;t.element.style.top=this.config.offset+s+n+"px"})}closeHandler(t){const e=t.target;if(!e)return;const s=e.closest("."+n.default.TOAST);if(!s)return;const i=this.activeToasts.findByElement(s);i&&(this.destroy(i),this.repositionAll())}addEventListeners(t){this.config.swipe&&(t.enablePlugins(),t.element.addEventListener(l.default.SWIPE_LEFT,this.onSwipeLeft.bind(this)),t.element.addEventListener(l.default.SWIPE_RIGHT,this.onSwipeRight.bind(this)));const e=t.element.querySelector("."+n.default.CLOSE_BUTTON);e&&e.addEventListener(l.default.CLICK,this._closeHandler)}removeEventListeners(t){t.disablePlugins(),t.element.removeEventListener(l.default.SWIPE_LEFT,this.onSwipeLeft),t.element.removeEventListener(l.default.SWIPE_RIGHT,this.onSwipeRight);const e=t.element.querySelector("."+n.default.CLOSE_BUTTON);e&&e.removeEventListener(l.default.CLICK,this._closeHandler)}onSwipeLeft(t){const e=t;this.onSwipe(e.detail.toast,a.default.LEFT)}onSwipeRight(t){const e=t;this.onSwipe(e.detail.toast,a.default.RIGHT)}onSwipe(t,e){e===a.default.RIGHT&&(t.element.style.right="-100vw",t.element.style.left="initial"),e===a.default.LEFT&&(t.element.style.left="-100vw",t.element.style.right="initial"),setTimeout(()=>{this.destroy(t),this.repositionAll()},r.default.TRANSITION_IN_MILLISECONDS)}get config(){return this._config}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s(0);const n=s(1),i=s(5);e.default=class{constructor(t,e=[],s){this.plugins=this.collectPlugins(e);const n=document.createElement("div");n.innerHTML=s?s(t):this.template(t);const i=n.firstElementChild;if(!i)return console.warn("No toast element found.. Created a plain toast for you"),void(this.element=n);this.element=i}template({className:t,title:e,content:s}){return`\n      <div class="${n.default.TOAST} ${t}">\n        <div class="${n.default.HEADER}">\n          <span>${e}</span>\n          <button class="${n.default.CLOSE_BUTTON}">\n            <i class="far fa-window-close"></i>\n          </button>\n        </div>\n        <div class="${n.default.BODY}">\n          <p>${s}</p>\n        </div>\n      </div>\n    `}hide(){this.element.style.opacity="0"}destroy(){this.element.remove()}enablePlugins(){this.plugins.forEach(t=>t.enable())}disablePlugins(){this.plugins.forEach(t=>t.disable())}collectPlugins(t){const e={swipe:i.default};return t.map(t=>{if(e[t])return new e[t](this)}).filter(Boolean)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(2);e.default=class{constructor(t){this.swiped=!1,this.toast=t,this._startHandler=this.onTouchStart.bind(this),this._moveHandler=this.onTouchMove.bind(this)}enable(){this.toast.element.addEventListener("touchstart",this._startHandler),this.toast.element.addEventListener("touchmove",this._moveHandler)}disable(){this.toast.element.removeEventListener("touchstart",this._startHandler),this.toast.element.removeEventListener("touchmove",this._moveHandler)}onTouchStart(t){this._startTouchEvent=t}onTouchMove(t){if(!this._startTouchEvent||this.swiped)return;const e=t.touches[0].clientX-this._startTouchEvent.touches[0].clientX,s=t.touches[0].clientY-this._startTouchEvent.touches[0].clientY;Math.abs(e)>Math.abs(s)&&(this.swiped=!0,e>0?this.toast.element.dispatchEvent(new CustomEvent(n.default.SWIPE_RIGHT,{detail:{toast:this.toast}})):this.toast.element.dispatchEvent(new CustomEvent(n.default.SWIPE_LEFT,{detail:{toast:this.toast}})))}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t=[]){this._toasts=t}first(){return this._toasts[0]}find(t){return this._toasts[t]}findByElement(t){return this._toasts.find(e=>e.element===t)}all(){return this._toasts}add(t){this._toasts.push(t)}delete(t){this._toasts.splice(this._toasts.indexOf(t),1)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TRANSITION_IN_MILLISECONDS:300}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={RIGHT:"right",LEFT:"left"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SWIPE:"swipe"}}])}));